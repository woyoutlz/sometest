webpackJsonp([2],{0:function(e,t,n){e.exports=n(92)},38:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(){var e=window.location.protocol,t=(0,a.querySelector)('link[rel="canonical"]');if(null!==t){var n=t.href;return"http:"===e&&(n=n.replace("https:",e)),n}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.getShareUrl=o;var a=n(10),u=function(){function e(t,n,o){if(r(this,e),null===t)throw new TypeError("The element must not be empty");this.el=t,o(n).then(this.setValue.bind(this))}return i(e,[{key:"setValue",value:function(t){null===t?this.el.innerHTML="&nbsp;":this.el.innerHTML=e.pad(t)}}],[{key:"pad",value:function(e){return 10>e?"0"+e:e}}]),e}();t.Counter=u;var l=function(){function e(t,n){r(this,e),this.el=t,this.shareUrl=encodeURIComponent(n);var o=e.getSharingText();null!==o&&(this.text=encodeURIComponent(o),t.setAttribute("href",this.getSocialNetworkUrl()),t.setAttribute("target","_blank"))}return i(e,[{key:"getSocialNetworkUrl",value:function(){throw new Error("Not implemented")}}],[{key:"getSharingText",value:function(){var e=(0,a.querySelector)('meta[name="twitter:text"]');return e&&e.content?e.content:a.DOCUMENT.title?a.DOCUMENT.title:null}}]),e}();t.Sharing=l},39:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){var t=d["default"].defer();return(0,f["default"])("//urls.api.twitter.com/1/urls/count.json?url="+e).then(function(e){var n=e.count;"undefined"==typeof n||0===n?t.resolve(null):t.resolve(n)}),t.promise}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var u=Object.getOwnPropertyDescriptor(o,i);if(void 0!==u){if("value"in u)return u.value;var l=u.get;if(void 0===l)return;return l.call(a)}var s=Object.getPrototypeOf(o);if(null===s)return;e=s,t=i,n=a,r=!0,u=s=void 0}};t.getTwitterCount=a;var s=n(40),f=r(s),c=n(4),d=r(c),h=n(38),p=function(e){function t(){o(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),u(t,[{key:"getSocialNetworkUrl",value:function(){return"//twitter.com/share?url="+this.shareUrl+"&text="+this.text}}]),t}(h.Sharing);t.TwitterSharing=p},40:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=a["default"].defer(),n=Date.now(),r="jsonp_callback_"+n+"_"+f++;e+=e.match(/\?/)?"&callback="+r:"?callback="+r;var o=s.cloneNode();return o.src=e,o.onload=o.onreadystatechange=function(){l.removeChild(o),o.onload=o.onreadystatechange=null,o=null},u.WINDOW[r]=function(e){t.resolve(e),delete u.WINDOW[r]},l.insertBefore(o,l.firstChild),t.promise}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var i=n(4),a=r(i),u=n(10),l=u.DOCUMENT.head||u.DOCUMENT.getElementsByTagName("head")[0],s=u.DOCUMENT.createElement("script");s.async=!0;var f=0;e.exports=t["default"]},41:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){var t=d["default"].defer();return(0,f["default"])("//graph.facebook.com/?ids="+e).then(function(n){var r=null;n[e]&&n[e].shares&&(r=n[e].shares),t.resolve(r)}),t.promise}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var u=Object.getOwnPropertyDescriptor(o,i);if(void 0!==u){if("value"in u)return u.value;var l=u.get;if(void 0===l)return;return l.call(a)}var s=Object.getPrototypeOf(o);if(null===s)return;e=s,t=i,n=a,r=!0,u=s=void 0}};t.getFacebookCount=a;var s=n(42),f=r(s),c=n(4),d=r(c),h=n(38),p=function(e){function t(){o(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),u(t,[{key:"getSocialNetworkUrl",value:function(){return"//www.facebook.com/sharer/sharer.php?u="+this.shareUrl+"&t="+this.text}}]),t}(h.Sharing);t.FacebookSharing=p},42:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=a["default"].defer(),n=new XMLHttpRequest;return n.open("GET",e,!0),n.onreadystatechange=function(){4===this.readyState&&(this.status>=200&&this.status<400?t.resolve(JSON.parse(this.responseText)):t.reject({status:this.status}))},n.send(),n=null,t.promise}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var i=n(4),a=r(i);e.exports=t["default"]},53:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(54),u=r(a),l=n(10),s=function(){function e(){o(this,e),this.init(),u["default"].on("update",this.onUpdate.bind(this))}return i(e,[{key:"init",value:function(){var e=(0,l.querySelectorAll)("video");this.videoStates=[];for(var t in e)this.videoStates[t]={video:e[t],state:!1}}},{key:"onUpdate",value:function(e){e.isHidden?this.disactivate():this.activate()}},{key:"disactivate",value:function(){for(var e in this.videoStates){var t=this.videoStates[e];t.video.paused||(t.state=!0,t.video.pause())}}},{key:"activate",value:function(){for(var e in this.videoStates){var t=this.videoStates[e];t.state&&(t.video.play(),t.state=!1)}}}]),e}();t["default"]=s,e.exports=t["default"]},54:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var u=Object.getOwnPropertyDescriptor(o,i);if(void 0!==u){if("value"in u)return u.value;var l=u.get;if(void 0===l)return;return l.call(a)}var s=Object.getPrototypeOf(o);if(null===s)return;e=s,t=i,n=a,r=!0,u=s=void 0}},l=n(10),s=n(8),f=n(18),c=r(f),d=function(e){function t(){o(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.hiddenProperty=null;var e=void 0;"undefined"!=typeof l.DOCUMENT.hidden?(this.hiddenProperty="hidden",e="visibilitychange"):"undefined"!=typeof l.DOCUMENT.mozHidden?(this.hiddenProperty="mozHidden",e="mozvisibilitychange"):"undefined"!=typeof l.DOCUMENT.msHidden?(this.hiddenProperty="msHidden",e="msvisibilitychange"):"undefined"!=typeof l.DOCUMENT.webkitHidden&&(this.hiddenProperty="webkitHidden",e="webkitvisibilitychange"),null!==this.hiddenProperty&&((0,s.addEventListener)(l.DOCUMENT,e,this.onUpdate.bind(this)),this.onUpdate())}return i(t,e),a(t,[{key:"onUpdate",value:function(){this.emit("update",{isHidden:l.DOCUMENT[this.hiddenProperty]})}}]),t}(c["default"]);t.CurrentTab=d,t["default"]=new d},61:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if(null===e)throw new TypeError("Element must be set");if(null!==t&&"string"!=typeof t&&t.constructor!==Array)throw new TypeError("Attributes must be either a string or an array");var n={};if(null===t)n=e.dataset;else{"string"==typeof t&&(t=[t]);for(var r in t)n[t[r]]=e.dataset[t[r]]}return n},e.exports=t["default"]},62:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){return(0,c.canSplitFiles)()?new y(e,t):new v(e,t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t["default"]=i;var u=n(10),l=n(8),s=n(4),f=r(s),c=n(63),d=n(64),h=r(d),p=u.WINDOW.URL||u.WINDOW.webkitURL,v=function(){function e(t,n){o(this,e),this.el=t,this.urls=(0,c.buildUrls)(n)}return a(e,[{key:"load",value:function(){var e=f["default"].defer();return this.el.src=this.urls[0],e.resolve(),e.promise}}]),e}(),y=function(){function e(t,n){o(this,e),this.el=t,this.urls=(0,c.buildUrls)(n)}return a(e,[{key:"load",value:function(){for(var e=this,t=f["default"].defer(),n=[],r=0,o=function(o){var i=o,a=new h["default"](e.urls[o]);a.load().then(function(o){if(n[i]=o,r++,r==e.urls.length){(0,l.once)(e.el,"load",function(){p.revokeObjectURL(e.el.src)});var a=new Blob(n,{type:"video/mp4"});e.el.src=p.createObjectURL(a),t.resolve()}})},i=0;i<this.urls.length;i++)o(i);return t.promise}}]),e}();e.exports=t["default"]},63:function(e,t,n){"use strict";function r(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],t="undefined"!=typeof a.WINDOW.devicePixelRatio?a.WINDOW.devicePixelRatio:1;return t>1||(null!==e?a.WINDOW.outerWidth>e:!1)}function o(e){if(!e.baseUrl||"string"!=typeof e.baseUrl)return[];var t="undefined"!=typeof e.minWidth?e.minWidth:null,n=r(t),o=e.baseUrl,a=0;if(n?"undefined"!=typeof e.parts2x&&null!==e.parts2x?(a=parseInt(e.parts2x,10),o=e.baseUrl+u):"undefined"!=typeof e.parts&&null!==e.parts2x?a=parseInt(e.parts,10):o=e.baseUrl+u:"undefined"!=typeof e.parts&&null!==e.parts?a=parseInt(e.parts,10):"undefined"!=typeof e.parts2x&&null!==e.parts&&(a=parseInt(e.parts2x,10),o=e.baseUrl+u),a>0&&i()){for(var s=[],f=1;a>=f;f++)s.push(o+(".part"+f)+l);return s}return[o+l]}function i(){var e=a.WINDOW.URL||a.WINDOW.webkitURL;return"undefined"!=typeof a.WINDOW.Blob||"undefined"!=typeof e}Object.defineProperty(t,"__esModule",{value:!0}),t.buildUrls=o,t.canSplitFiles=i;var a=n(10),u="@2x",l=".mp4"},64:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(65),u=r(a),l=n(4),s=r(l),f=function(){function e(t){o(this,e),this.url=t}return i(e,[{key:"load",value:function(){var e=this,t=s["default"].defer(),n=new u["default"](this.url,a.METHODS.GET,{responseType:"arraybuffer",async:!0});return n.send().then(function(e){t.resolve(e)},function(){t.reject(new Error("Error on load video "+e.url))}),t.promise}}]),e}();t["default"]=f,e.exports=t["default"]},65:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(4),u=r(a),l={GET:"get",POST:"post"};t.METHODS=l;var s=function(){function e(t,n,r){o(this,e),this.url=t,this.method=n.toUpperCase(),this.options=r,this.headers=r.headers,this.async=r.async,this.data=r.data}return i(e,[{key:"send",value:function(){var e=u["default"].defer(),t=new XMLHttpRequest;t.open(this.method,this.url,this.async);for(var n in this.options)"undefined"!=typeof t[n]&&(t[n]=this.options[n]);return t.onload=function(){t.status>=200&&t.status<400?e.resolve(t.response):e.reject(new Error("Can't XHR "+JSON.stringify(t.url)))},t.onerror=function(){e.reject(new Error("Can't XHR "+JSON.stringify(t.url)))},t.onprogress=function(t){e.notify(t.loaded/t.total)},"POST"==this.method?t.send(this.data):t.send(),e.promise}}]),e}();t["default"]=s},92:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=n(93),i=n(27),a=r(i),u=void 0;u=a["default"].mobile?new o.MobileWorkPage:new o.WorkPage,u.run()},93:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(3),u=n(10),l=n(61),s=r(l),f=n(62),c=r(f),d=n(28),h=r(d),p=n(43),v=n(44),y=r(v),b=n(53),m=r(b),g=n(37),w=r(g),O=n(13),k=r(O),_=n(34),P=r(_),S=n(35),E=r(S),M=n(38),j=n(39),T=n(41),U=n(94),x=r(U),C=n(95),W=function(){function e(){o(this,e),this.videos=new x["default"]}return i(e,[{key:"run",value:function(){(0,a.domReady)().then(this.onReady.bind(this)),(0,a.windowReady)().then(this.onWindowReady.bind(this))}},{key:"onReady",value:function(){var e=this,t=(0,M.getShareUrl)(),n=(0,u.querySelectorAll)(".work-info__share a");new j.TwitterSharing(n[0],t),new T.FacebookSharing(n[1],t);var r=new E["default"],o=(0,k["default"])();o.on("update",function(t){"opening"===t.state?(r.fix(),e.videos.stopAll(),h["default"].lock()):"close"===t.state&&(r.unfix(),e.videos.start(),h["default"].unlock())}),this.videos.load(),new w["default"];var i=new P["default"];o.on("update",function(e){"opening"===e.state||"open"===e.state?i.underPageMenu():i.underPage()}),new m["default"],this.isFontSpirationCase()&&new C.Theme((0,u.querySelector)(".font-themes"))}},{key:"onWindowReady",value:function(){var e=(0,u.querySelector)(".work-cover__video");if(null!==e){var t=(0,c["default"])(e,JSON.parse((0,s["default"])(e,"options").options));t.load().then(function(){e.play()})}}},{key:"isFontSpirationCase",value:function(){return null!==(0,u.querySelector)(".page-fontspiration")}}]),e}();t.WorkPage=W;var D=function(){function e(){o(this,e),(0,y["default"])(),p.htmlClassAdder.flush(),this.pageMenu=null}return i(e,[{key:"onDomReady",value:function(){var e=(0,M.getShareUrl)(),t=(0,u.querySelectorAll)(".work-info__share a");new j.TwitterSharing(t[0],e),new T.FacebookSharing(t[1],e),this.pageMenu=(0,k["default"])();var n=new P["default"];this.pageMenu.on("update",function(e){"opening"===e.state?h["default"].lock():"closing"===e.state&&h["default"].unlock(),"opening"===e.state||"open"===e.state?n.underPageMenu():n.underPage()})}},{key:"run",value:function(){(0,a.domReady)().then(this.onDomReady.bind(this))}}]),e}();t.MobileWorkPage=D},94:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(10),u=n(61),l=r(u),s=n(62),f=r(s),c=n(14),d=n(28),h=r(d),p=function(){function e(){o(this,e),this.videosList=(0,a.querySelectorAll)(".j-autoloaded-video"),this.videosToWatch=(0,a.querySelectorAll)(".j-start-video-in-vp"),this.videoElements=(0,a.querySelectorAll)("video"),h["default"].on("update",this.onScroll.bind(this)),this.onScroll()}return i(e,[{key:"load",value:function(){var e=this.videosList.slice();for(var t in e){var n=(0,f["default"])(e[t],JSON.parse((0,l["default"])(e[t],"options").options));e[t].style.pointerEvents="none",n.load()}}},{key:"onScroll",value:function(){var e=this.videosToWatch;for(var t in e){var n=e[t];(0,c.isInViewPort)(n)?n.paused&&n.play():n.paused||n.pause()}}},{key:"stopAll",value:function(){var e=this.videoElements;for(var t in e)e[t].pause()}},{key:"start",value:function(){this.onScroll()}}]),e}();t["default"]=p,e.exports=t["default"]},95:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(4),u=r(a),l=n(61),s=r(l),f=n(10),c=n(8),d=n(15),h=n(20),p=r(h),v=n(96),y=r(v),b="/assets/img/fontspiration/themes/",m=function(){function e(t){var n=this;o(this,e),this.themeEl=t,this.frames=[],this.bigHandEl=(0,f.querySelector)(".big-hand",this.themeEl);var r=[],i=(0,f.querySelectorAll)(".font-theme",this.themeEl);for(var a in i){var l=new g(i[a]);this.frames.push(l),r.push(l.preload())}u["default"].all(r).then(function(){n.run()}),p["default"].on("update",this.onResize.bind(this))}return i(e,[{key:"onResize",value:function(){this.themeEl.style.width=Math.min(f.WINDOW.outerWidth,1360)+"px";var e=(0,d.width)(this.themeEl)/4;this.themeEl.style.height=3*e+"px",this.bigHandEl.style.width=e+"px",this.bigHandEl.style.height=e+"px",this.bigHandEl.style.position="absolute";for(var t in this.frames){var n=this.frames[t];n.onResize(e,t)}}},{key:"run",value:function(){var e=this;this.themeEl.classList.remove("j-not-initialized");var t=function(t){var n=e.frames[t];n.init(),(0,c.addEventListener)(n.el,"mouseover",function(){e.onMouseOver(n)}),(0,c.addEventListener)(n.el,"mouseout",function(){e.onMouseOut(n)})};for(var n in this.frames)t(n);this.onResize()}},{key:"onMouseOver",value:function(e){0!==this.bigHandEl.style.opacity&&(this.bigHandEl.style.opacity=0),e.animate()}},{key:"onMouseOut",value:function(e){e.stop()}}]),e}();t.Theme=m;var g=function(){function e(t){o(this,e),this.el=t,this.imageURLs=[],this.attrs=(0,s["default"])(t),this.isLoaded=!1,this.clip=new y["default"](this.attrs.fps||30),this.currentFrame=0;for(var n=Math.ceil(this.attrs.frames/30),r=1;n>=r;r++)this.imageURLs.push(b+this.attrs.film+"_"+r+".jpg");this.clip.on("update",this.update.bind(this))}return i(e,[{key:"preload",value:function(){for(var e=this,t=u["default"].defer(),n=function(n){var r=new Image,o=function(){r.onabort=null,r.onerror=null,r.onload=null,e.isLoaded=!0,e.imageURLs.length==n+1&&t.resolve()};r.onabort=o,r.onerror=o,r.onload=o,r.src=e.imageURLs[n]},r=0;r<this.imageURLs.length;r++)n(r);return t.promise}},{key:"init",value:function(){if(!this.isLoaded)throw new Error("First you must preload the frame images");for(var e=f.DOCUMENT.createDocumentFragment(),t=Math.min(f.WINDOW.outerWidth,1360)/4,n=0;n<this.imageURLs.length;n++){var r=f.DOCUMENT.createElement("div");r.style.position="absolute",r.style.width=t,r.style.height=t,r.style.opacity=0===n?1:0,r.style.backgroundSize="cover",r.style.backgroundPosition="0 0",r.style.backgroundImage="url("+this.imageURLs[n]+")",e.appendChild(r)}this.el.appendChild(e)}},{key:"onResize",value:function(e,t){this.el.style.position="absolute",this.el.style.width=e+"px",this.el.style.height=e+"px",this.el.style.top=Math.floor(t/4)*e+"px",this.el.style.left=t%4*e+"px",this.el.style.backgroundSize="cover";for(var n=(0,f.querySelectorAll)("div",this.el),r=0;r<n.length;r++){var o=n[r];o.style.width=e+"px",o.style.height=e+"px"}}},{key:"animate",value:function(){this.clip.start()}},{key:"stop",value:function(){this.clip.stop()}},{key:"update",value:function(){var e=parseInt(this.attrs.frames),t=Math.floor(this.currentFrame/30)+1,n=this.currentFrame%30,r=100/Math.min(29,e-30*(t-1))*n,o=(0,f.querySelectorAll)("div",this.el);for(var i in o)o[i].style.opacity=0;var a=(0,f.querySelector)("div:nth-child("+t+")",this.el);a.style.opacity=1,a.style.backgroundPositionY=r+"%",this.currentFrame++,this.currentFrame>e&&(this.currentFrame=this.currentFrame%e)}}]),e}();t.Frame=g},96:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var u=Object.getOwnPropertyDescriptor(o,i);if(void 0!==u){if("value"in u)return u.value;var l=u.get;if(void 0===l)return;return l.call(a)}var s=Object.getPrototypeOf(o);if(null===s)return;e=s,t=i,n=a,r=!0,u=s=void 0}};n(21);var l=(n(8),n(18)),s=r(l),f=n(10),c=function(e){function t(e){o(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.stopState=!0,this.fpsInterval=1e3/e,this.nextTickTime=null}return i(t,e),a(t,[{key:"start",value:function(){this.nextTickTime=Date.now(),this.stopState=!1,this.update()}},{key:"stop",value:function(){this.stopState=!0}},{key:"update",value:function(){if(!this.stopState){f.WINDOW.requestAnimationFrame(this.update.bind(this));var e=Date.now(),t=e-this.nextTickTime;t>this.fpsInterval&&(this.nextTickTime=e-t%this.fpsInterval,this.emit("update"))}}}]),t}(s["default"]);t["default"]=c,e.exports=t["default"]}});